import{r as t,h as e}from"./p-a0a329c6.js";import{D as s}from"./p-9643fe7c.js";import{d as a}from"./p-fd454fec.js";import"./p-98a3b9a5.js";import"./p-7b428ec7.js";import"./p-6ac8576c.js";import"./p-3a909602.js";import"./p-76a5b83d.js";import"./p-3ca5d941.js";import"./p-337430ef.js";import"./p-6e36a246.js";import"./p-c76dc032.js";import"./p-39e4b21b.js";import"./p-617add97.js";import"./p-59e1f273.js";import"./p-7fefc54a.js";import"./p-04d005dd.js";import"./p-1cbb6fba.js";import"./p-d85e610b.js";import"./p-777a3b09.js";import"./p-cf4d8a40.js";import"./p-eaf837f7.js";import"./p-547388e2.js";import"./p-fd76076a.js";import"./p-04b1a23c.js";import"./p-fbf9cfd5.js";import"./p-22de27ed.js";const i=class{constructor(e){t(this,e),this.baseUrl="",this.data=document.querySelector("trusd-piiq-com-app-root").data}getDataSet(){return this.data.dataSets.forEach((t=>{t.pii.forEach((t=>{t.data_consent="nicht vorhanden",t.data_delete_date="2023-01-01",t.data_source="Unbekannt",t.data_last_change=new Date("August 19, 1975 23:15:30")}))})),this.data.dataSets}getActuality(){var t="latest";return this.data.dataSets.forEach((e=>{e.pii.forEach((e=>{t=e.data_last_change.toString()}))})),t}getDeleteDate(){var t="never";return this.getDataSet().forEach((e=>{e.pii.forEach((e=>{"never"==t?"never"!=e.data_delete_date&&(t=e.data_delete_date):e.data_delete_date<t&&(t=e.data_delete_date)}))})),t}countData(){var t=0;return this.data.dataSets.forEach((e=>{e.pii.forEach((()=>{t++}))})),t}render(){if(null!=this.data)return e("div",{class:"container"},e("div",{class:"row"},e("div",{class:" d-flex justify-content-end w-100"},e("div",{class:"p-2"},e("button",{type:"button",class:"btn btn-secondary ",onClick:()=>console.log(this.data)},"Löschen")),e("div",{class:"p-2"},e("button",{type:"button",class:"btn btn-primary "},"Bearbeiten ")),e("div",{class:"p-2"},e("stencil-route-link",{url:i.route},e("button",{type:"button",class:"btn btn-success ",onClick:()=>document.querySelector("trusd-piiq-com-app-root").data=this.data},"Verarbeitung starten")))),e("div",{class:"row w-100"},e("div",{class:"alert alert-warning w-100",role:"alert"},e("b",null,"In Bearbeitung. ")," Diese Verarbeitung ist noch nicht aktiv, Sie können den Inhalt weiterhin anpassen."))),e("div",{class:"row"},e("h3",null,"Forschungsantrag")),e("div",{class:"row shadow p-3 mb-5 bg-white rounded"},e("div",{class:"row w-100"},e("div",{class:"alert alert-danger w-100",role:"alert"},e("b",null,"Nicht genehmigt. ")," Sie dürfen die personenbezogenen Daten nicht verarbeiten."),e("div",{class:"row w-100"},e("div",{class:"col border-1 m-1"},e("h5",{class:"font-weight-light"},"Verarbeitungstätigkeit"),e("p",{class:"font-weight-bold"},this.data.processing)),e("div",{class:"col border-1 m-1"},e("h5",{class:"font-weight-light"},"Einwilligungen"),e("p",{class:"font-weight-bold"},this.countData()," Einwilligungen erforderlich"),e("div",{class:"progress"},e("div",{class:"progress-bar bg-danger",role:"progressbar",style:{width:"1%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"}))),e("div",{class:"col border-1 m-1"},e("h5",{class:"font-weight-light"},"Datenvollständigkeit"),e("p",{class:"font-weight-bold"},"Daten nicht vollständig"),e("div",{class:"progress"},e("div",{class:"progress-bar bg-danger",role:"progressbar",style:{width:"1%"},"aria-valuenow":"50","aria-valuemin":"0","aria-valuemax":"100"}))),e("div",{class:"col border-1 m-1"},e("h5",{class:"font-weight-light"},"Löschfrist"),e("p",{class:"font-weight-bold"},this.getDeleteDate()))))),e("div",{class:"row"},e("h5",{class:"fw-light"},"Beschreibung der Verarbeitung")),e("div",{class:"row"},e("p",{class:"lead"},""==this.data.description?"Keine Beschreibung":this.data.description)),e("div",{class:"row pl-4 pr-4"},e("div",{class:"col border border-1 rounded m-1"},e("h5",{class:"font-weight-light"},"Frist"),e("p",{class:"text-center font-weight-bold align-middle"}," ",""!=this.data.deadline?this.data.deadline:"Keine Frist festgelgt")),e("div",{class:"col border border-1 rounded m-1"},e("h5",{class:"font-weight-light"},"Aktualität"),e("p",{class:"latest"==this.getActuality()?"":"text-danger text-center font-weight-bold"}," ",this.getActuality()),e("p",null,"latest"==this.getActuality()?"":"Einige der aktuell verfügbaren personebezogenen Daten sind vermutlich veraltet")),e("div",{class:"col border border-1 rounded m-1"},e("h5",{class:"font-weight-light"},"Übermittlungswege"),this.data.transmissionChannel.includes(a.EMAIL)?e("p",{class:"text-center font-weight-bold"}," E-Mail"):"",this.data.transmissionChannel.includes(a.INHOUSE_MAIL)?e("p",{class:"text-center font-weight-bold"}," Hauspost"):"",this.data.transmissionChannel.includes(a.FILE_UPLOAD)?e("p",{class:"text-center font-weight-bold"}," Datei-Upload"):"",this.data.transmissionChannel.includes(a.FAX)?e("p",{class:"text-center font-weight-bold"}," Fax"):"",0==this.data.transmissionChannel.length?"":"Keine Übertragung gewählt"),e("div",{class:"col border border-1 rounded m-1"},e("h5",{class:"font-weight-light"},"Sensibilitätsscore"),e("div",{class:"alert alert-secondary",role:"alert"},"keine Besonderheiten bekannt"),e("p",null))),e("div",{class:"row w-100 mt-3"},e("div",{class:"accordion w-100",id:"accordionDataList"},this.getDataSet().map((t=>e("div",{class:"card"},e("h2",{class:"card-header",id:"heading"+t.id},e("button",{class:"btn btn-link  d-flex justify-content-between align-items-center w-100",type:"button","data-toggle":"collapse","data-target":"#collapse"+t.id,"aria-expanded":"true","aria-controls":"collapse"+t.id},e("span",{class:"float-start mr-5"},t.person.dataSubject.full_name),e("div",{class:"ml-4 col"},"latest"==this.getActuality()?"":e("span",{class:"badge badge-warning m-1"},"Aktualität"),e("span",{class:"badge badge-danger m-1"},"Einwilligung"),e("span",{class:"badge badge-danger m-1"},"Datenvollständigkeit")))),e("div",{id:"collapse"+t.id,class:"accordion-collapse collapse","aria-labelledby":"heading"+t.id,"data-bs-parent":"#accordionDataList"},e("div",{class:"card-body"},e("table",{class:"table"},e("thead",null,e("tr",null,e("th",{scope:"col"},"#"),e("th",{scope:"col"},"Bezeichnung"),e("th",{scope:"col"},"Letzte Änderung"),e("th",{scope:"col"},"Speicherort"),e("th",{scope:"col"},"Löschfrist"),e("th",{scope:"col"},"Einwilligung"))),e("tbody",null,t.pii.map(((t,s)=>e("tr",null,e("th",{scope:"row"},s),e("td",null,t.dataCategory.friendlyName),e("td",null,t.data_last_change),e("td",null,t.data_source),e("td",null,t.data_delete_date),e("td",{class:"text-danger"},t.data_consent))))))))))))));this.history.replace(s.route)}};i.route="/prozess-fortschritt",i.style=".sc-trusd-piiq-com-processing-detail-h{display:block}";export{i as trusd_piiq_com_processing_detail}