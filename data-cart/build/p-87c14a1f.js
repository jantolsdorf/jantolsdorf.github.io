import{r as e,h as t,g as s}from"./p-a0a329c6.js";import{b as i,E as n,a}from"./p-fd454fec.js";import{s as l}from"./p-fbf9cfd5.js";import"./p-3a909602.js";import"./p-e86956bd.js";import{f as o,d as r,e as c}from"./p-22de27ed.js";import{V as d}from"./p-6ac8576c.js";import{l as h}from"./p-98a3b9a5.js";import{C as p}from"./p-1b0a7c96.js";const g=class{constructor(t){e(this,t),this.baseUrl="",this.formAddPersonalData=!1,this.formAddDataSubjects=!1,this.formWidgetOutdatedData=0,this.modalDownloadPersonalDataShowPassword=!1,this.formTabPaneState="PERSONAL_DATA",this.formMessageNew="",this.formWidgetForwardingPersonalDataByRecipient=[]}onSendNewMessageHandler(e){this.formTabPaneState="MESSAGES",this.formMessagesPaneContactsSelected=e.detail}updateDataBasket(){this.dataBasket.dataSets.forEach((e=>{this.dataBasket=i.addToConversations(this.dataBasket,e.person,"123Neue Anfrage gestartet: "+(()=>{let t="";return e.pii.forEach((e=>t+=e.dataCategory.friendlyName+", ")),t.substring(0,t.length-2)})(),{name:this.dataBasket.requestingDataProcessor.last_name+", "+this.dataBasket.requestingDataProcessor.first_name,id:"data-processor-1"})})),"DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom&&""!==this.dataBasket.requestPersonalMessageToDataSubjects?this.htmlElSelectDataAndSubjects.dataSets.forEach((e=>{this.dataBasket=i.addToConversations(this.dataBasket,e.person,this.dataBasket.requestPersonalMessageToDataSubjects,{name:this.dataBasket.requestingDataProcessor.last_name+", "+this.dataBasket.requestingDataProcessor.first_name,id:"data-processor-1"})})):"FROM_OTHER"===this.dataBasket.requestDataRequestedFrom&&""!==this.dataBasket.requestPersonalMessageToPersonOrDepartment&&(this.dataBasket=i.addToConversations(this.dataBasket,d.fromDataSubject(this.dataBasket.dataSourcePersonOrDepartment),this.dataBasket.requestPersonalMessageToPersonOrDepartment,{name:this.dataBasket.requestingDataProcessor.last_name+", "+this.dataBasket.requestingDataProcessor.first_name,id:"data-processor-1"})),this.dataBasket.status=n.ACTIVE,this.dataBasket.ID===l.taskAufgabe1DataBasketID&&this.htmlElSelectDataAndSubjects.dataSets.find((e=>e.pii.find((e=>"dat_cat_17"===e.dataCategory.id.value))))&&(l.taskAddedRequestForPicture=!0),this.dataBasket.dataSets=i.mergeDataSets(this.dataBasket.dataSets,this.htmlElSelectDataAndSubjects.dataSets),this.dataBasket=Object.assign({},i.updateProgress(this.dataBasket)),this.dataBasket=i.store(this.dataBasket)}checkForwardingPersonalDataByRecipient(){let e=[],t=[],s=[];o(this.dataBasket.selectedProcessingRecordID).dataSubjectCategoriesAggregate.map((e=>{e.dataCategoriesAggregate.map((e=>{t.find((t=>t.type===e.recipientCategory.type))||t.push(e.recipientCategory),s.find((t=>t.id.value===e.dataCategory.id.value))||s.push(e.dataCategory)}))})),e=new Array(s.length);for(let i=0;i<e.length;i++){e[i]={rowName:s[i].friendlyName,column:new Array(t.length)};for(let t=0;t<e[i].column.length;t++)e[i].column[t]=void 0}o(this.dataBasket.selectedProcessingRecordID).dataSubjectCategoriesAggregate.map((i=>{i.dataCategoriesAggregate.map((i=>{let n=t.findIndex((e=>e.type===i.recipientCategory.type)),a=s.findIndex((e=>e.id.value===i.dataCategory.id.value));e[a].column[n]=i.lawfulness}))})),e.forEach((e=>{e.column.forEach(((e,s)=>{let i=this.formWidgetForwardingPersonalDataByRecipient.findIndex((e=>e.rcpt.type===t[s].type));i<0&&(this.formWidgetForwardingPersonalDataByRecipient=[...this.formWidgetForwardingPersonalDataByRecipient,{rcpt:t[s],restricted:!1}],i=this.formWidgetForwardingPersonalDataByRecipient.length-1),e&&e.type!==r.VOLawfulnessTypeEnum.A||(this.formWidgetForwardingPersonalDataByRecipient[i].restricted=!0)}))})),this.formWidgetForwardingPersonalDataByRecipient=[...this.formWidgetForwardingPersonalDataByRecipient]}componentWillLoad(){if(void 0===this.dataBasket){let e=this.match.params.datenkorbId;this.dataBasket=l.dbEDataBasket.find((t=>t.ID===e.trim()))}this.dataBasket.progressCompletenessPersonalData>0||this.dataBasket.progressCompletenessPersonalDataOtherDepartment>0?this.dataBasket.dataSets.map((e=>{"OUTDATED"===i.checkOutdatedPII(this.dataBasket,e)&&(this.formWidgetOutdatedData+=1)})):this.formWidgetOutdatedData=-1,this.checkForwardingPersonalDataByRecipient()}componentDidRender(){if($("[data-toggle='tooltip']").tooltip(),this.dataBasket.status===n.ACTIVE&&this.dataBasket.state===a.READY&&(this.dataBasket=i.store(Object.assign(Object.assign({},this.dataBasket),{status:n.IDLE}))),l.taskFirstTimeRuhezustand&&this.dataBasket.status===n.IDLE&&(l.taskFirstTimeRuhezustand=!1,this.modalFirstTimeRuhezustand.toggleAttribute("open")),l.taskAufgabe1||"Josefa Hauser"!==this.dataBasket.dataSets[0].person.dataSubject.full_name||(l.taskAufgabe1=!0,l.taskAufgabe1DataBasketID=this.dataBasket.ID,this.modalTask.toggleAttribute("open")),!l.taskAufgabe2&&"uuid-4"===this.dataBasket.selectedProcessingRecordID){l.taskAufgabe2=!0;let e=l.dbEDataBasket.find((e=>e.ID===l.taskAufgabe1DataBasketID));e||alert("Studie kann nicht fortgesetzt werden."),i.store(Object.assign(Object.assign({},i.addToConversations(e,e.dataSets[0].person,"Hallo Frau Wagner-Müller! Können wir dem Online-Beitrag auch ein Bild von mir hinzufügen? Wenn Sie mir die Anfrage senden, kann ich das Bild sofort zur Verfügung stellen. Viele Grüße, J. Hauser",{name:e.requestingDataProcessor.last_name+", "+e.requestingDataProcessor.first_name,id:"data-processor-1"})),{numMessagesUnread:1})),this.modalTask.toggleAttribute("open")}}componentDidLoad(){}render(){return t("div",{class:"container"},this.dataBasket.status===n.DRAFTING?t("div",{class:"row d-flex justify-content-end"},t("div",{class:"p-2"},t("button",{type:"button",class:"btn btn-outline-danger ",onClick:()=>l.dbEDataBasket=[...l.dbEDataBasket.filter((e=>e.ID!==this.dataBasket.ID))]},"Verwerfen")),t("div",{class:"p-2"},t("button",{type:"button",class:"btn btn-outline-primary",onClick:()=>{this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{status:n.DRAFTING}),this.dataBasket=i.updateProgress(this.dataBasket),l.dbEDataBasket=[...l.dbEDataBasket.filter((e=>e.ID!==this.dataBasket.ID)),this.dataBasket],document.getElementById("toast-data-basket-import-save-draft").show()}},"Als Entwurf Speichern")),t("ui5-toast",{id:"toast-data-basket-import-save-draft"},t("ui5-messagestrip",{type:"Positive","no-close-button":!0},t("b",null,"Gespeichert!"))),t("div",{class:"p-2"},t("button",{type:"button",class:"btn btn-success",onClick:()=>{this.dataBasket.activityLog.addCreated(this.dataBasket.requestingDataProcessor.last_name+", "+this.dataBasket.requestingDataProcessor.first_name),this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{status:n.ACTIVE}),this.dataBasket=i.updateProgress(this.dataBasket),l.dbEDataBasket=[...l.dbEDataBasket.filter((e=>e.ID!==this.dataBasket.ID)),this.dataBasket],window.location.href=l.baseURL+p.route+"/"+this.dataBasket.ID}},"Datenkorb aktiv schalten"))):"",this.dataBasket.status===n.DRAFTING?t("div",{class:"row p-2 mt-3"},t("div",{class:"col-12"},t("ui5-messagestrip",{type:"Warning","no-close-button":!0},t("b",null,"In Bearbeitung. ")," Dieser Datenkorb ist noch nicht aktiv und Sie können den Inhalt weiterhin anpassen."))):"",t("div",{class:"row mt-3 rounded"},t("ul",{class:"nav nav-tabs w-100"},t("li",{class:"nav-item"},t("a",{href:"#",class:"nav-link"+("PERSONAL_DATA"===this.formTabPaneState?" active":""),onClick:()=>this.formTabPaneState="PERSONAL_DATA"},"Betroffene Personen und personenbezogene Daten")),t("li",{class:"nav-item"},t("a",{href:"#",class:"nav-link"+("MESSAGES"===this.formTabPaneState?" active":""),onClick:()=>{this.formTabPaneState="MESSAGES",this.dataBasket=i.store(Object.assign(Object.assign({},this.dataBasket),{numMessagesUnread:0}))}},t("i",{class:this.dataBasket.numMessagesUnread>0?"fas fa-envelope":"fas fa-envelope fa-disabled"})," Nachrichten ",this.dataBasket.numMessagesUnread>0?t("span",{class:"badge badge-secondary"},this.dataBasket.numMessagesUnread):"")),t("li",{class:"nav-item"},t("a",{href:"#",class:"nav-link"+("LOG"===this.formTabPaneState?" active":""),onClick:()=>this.formTabPaneState="LOG"},t("i",{class:"fas fa-history"})," Verlauf und Notizen")))),t("div",{class:"row p-2 bg-white border-left border-right border-bottom"},t("div",{class:"col-12"},t("div",{class:"tab-content data-subject-select-modal-tab"},t("div",{class:"tab-pane container"+("PERSONAL_DATA"===this.formTabPaneState?" active":"")},t("div",{class:"row w-100 pt-3"},t("div",{class:"col-12",title:"Name des Datenkorbs"},t("h5",null,this.dataBasket.title))),this.formAddPersonalData||this.formAddDataSubjects?this.formAddDataSubjects||this.formAddPersonalData?t("div",{class:"col-12 pt-3 m-0"},t("trusd-piiq-com-data-basket-select-data-and-subjects",{dataBasket:this.dataBasket,ref:e=>this.htmlElSelectDataAndSubjects=e,onAddedToDataBasket:e=>this.htmlElSelectDataAndSubjects=Object.assign(Object.assign({},this.htmlElSelectDataAndSubjects),{dataSets:e.detail}),preselectedDataSubjects:(()=>{let e=[];return this.formAddPersonalData&&this.dataBasket.dataSets.forEach((t=>{e.push(t.person)})),e})(),preselectedPersonalData:(()=>{let e=[];return this.formAddDataSubjects&&this.dataBasket.dataSets.forEach((t=>{t.pii.forEach((t=>{e.find((e=>e.dataCategory.id.value===t.dataCategory.id.value))||e.push(t)}))})),e})()}),"DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom||"FROM_OTHER"===this.dataBasket.requestDataRequestedFrom?t("div",null,"DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom?t("div",{class:"row p-2 mt-3 bg-white rounded border"},t("div",{class:"col-12"},t("label",{class:"lead"},"Persönliche Nachricht an die ",t("b",null,"ausgewählten betroffenen Personen")," (optional):"),t("br",null),this.formAddPersonalData?t("i",{class:"text-muted"},"Beschreiben Sie z. B. kurz, wieso Sie weitere personenbezogene Daten abfragen."):"",t("div",{class:"row pt-1"},t("div",{class:"col"},t("textarea",{id:"description",class:"form-control","aria-label":"With textarea",value:this.dataBasket.requestPersonalMessageToDataSubjects,onInput:e=>this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{requestPersonalMessageToDataSubjects:e.target.value})})),this.dataBasket.requestPersonalMessageToDataSubjects&&""!==this.dataBasket.requestPersonalMessageToDataSubjects?t("div",{class:"d-flex align-items-center justify-content-center"},t("span",{class:"fas fa-check-circle text-success"})):""))):"FROM_OTHER"===this.dataBasket.requestDataRequestedFrom?t("div",{class:"row p-2 mt-3 bg-white rounded border"},t("div",{class:"col-12"},t("label",{class:"lead"},"Persönliche Nachricht an die ",t("b",null,"Kontaktperson oder Abteilung")," (optional):"),t("br",null),this.formAddPersonalData?t("small",null,t("i",null,"Beschreiben Sie z. B. kurz, wieso Sie weitere personenbezogene Daten abfragen.")):"",t("div",{class:"row"},t("div",{class:"col"},t("textarea",{id:"description",class:"form-control","aria-label":"With textarea",value:this.dataBasket.requestPersonalMessageToPersonOrDepartment,onInput:e=>this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{requestPersonalMessageToPersonOrDepartment:e.target.value})})),this.dataBasket.requestPersonalMessageToPersonOrDepartment&&""!==this.dataBasket.requestPersonalMessageToPersonOrDepartment?t("div",{class:"d-flex align-items-center justify-content-center"},t("span",{class:"fas fa-check-circle text-success"})):""))):""):"","DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom||"FROM_OTHER"===this.dataBasket.requestDataRequestedFrom?t("div",{class:"row p-2 mt-3 bg-white rounded border"},t("div",{class:"col-12"},t("label",{class:"lead"},"Bis wann benötigen Sie die pers. Daten und Genehmigungen? (optional)"),t("div",{class:"row"},t("div",{class:"col"},t("ui5-date-picker",{placeholder:"MM JJJJ","format-pattern":"MM yyyy",value:this.dataBasket.deadline,onChange:e=>this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{deadline:e.target.value})})),this.dataBasket.deadline&&""!==this.dataBasket.deadline?t("div",{class:"d-flex align-items-center justify-content-center"},t("span",{class:"fas fa-check-circle text-success"})):""))):"",t("div",{class:"row pt-3"},t("div",{class:"col"},t("button",{onClick:()=>{this.formAddPersonalData=!1,this.formAddDataSubjects=!1},type:"button",class:"btn btn-outline-secondary"},h.btnCancel),t("button",{onClick:()=>{this.updateDataBasket(),this.formAddPersonalData=!1,this.formAddDataSubjects=!1,document.getElementById("toast-data-basket-send-request").show()},disabled:!this.htmlElSelectDataAndSubjects||0==this.htmlElSelectDataAndSubjects.dataSets.length,type:"button",class:"btn btn-primary float-right"},"Anfrage absenden")))):"":t("div",null,t("details",{class:"rounded bg-light",open:!0},t("summary",{slot:"header",class:"pl-2 btn-link"},t("span",{class:"h5 font-weight-light"},"Details und Datenschutzhinweise"),t("div",{class:"float-right"},this.dataBasket.status===n.DRAFTING?t("span",{class:"badge badge-warning cursor-help",title:"Dies ist ein Entwurf und noch nicht aktiv."},t("i",{class:"fas fa-pencil-alt"})," Entwurf"):this.dataBasket.status===n.ACTIVE?t("span",{class:"badge badge-success cursor-help",title:"Dieser Datenkorb ist aktiv."},t("i",{class:"fas fa-retweet"})," aktiv"):this.dataBasket.status===n.IDLE?t("span",{class:"badge badge-primary cursor-help",title:"Dieser Datenkorb ist im Ruhezustand."},t("i",{class:"fas fa-spinner"})," ruhend"):t("span",{class:"badge badge-secondary cursor-help",title:"Dieser Datenkorb ist abgeschlossen. Sie könne weiterhin auf die Daten zugreifen."},t("i",{class:"fas fa-archive"})," Abgeschlossen"),"        ",t("span",{class:"cursor-help text-dark",title:"Datum und Uhrzeit der letzten Aktualisierung der Anzeige."},t("i",{class:"far fa-calendar-check"})," ",new Date(this.dataBasket.lastActionDate).toLocaleTimeString().substring(0,5)+" "+new Date(this.dataBasket.lastActionDate).toLocaleDateString()),"        ",t("span",{class:"cursor-help text-dark",title:"Dies ist die eindeutige ID des Datenkorbs. Die ID wird automatisch generiert."},t("i",{class:"fas fa-fingerprint"})," ",this.dataBasket.ID.substring(0,8)),"    ")),t("div",{class:"row pt-3 pb-3"},t("div",{class:"col-12 p-0 pt-2 d-flex"},t("div",{class:"row w-100 m-0 justify-content-center"},t("div",{class:"border flex-column d-flex ml-3 p-1 d-flex rounded cursor-pointer dataprotection-widget",style:{maxWidth:"250px"},onClick:()=>this.modalProcessingRecordEntryViewer.toggleAttribute("open"),"data-toggle":"tooltip","data-placement":"top",title:"Klicken, um mehr zu erfahren."},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Verarbeitungstätigkeit"),(()=>{let e=o(this.dataBasket.selectedProcessingRecordID);return t("div",null,t("p",{class:"font-weight-bold"},e.friendlyName),t("h6",{class:"font-weight-light m-0"},"Genehmigte Zwecke"),t("ul",null,e.purposes.map((e=>t("li",{class:"cursor-help",title:e.descriptionText},e.displayName)))))})())),t("div",{class:"border flex-column d-flex ml-3 p-1 rounded cursor-pointer dataprotection-widget",onClick:()=>{this.modalGenehmigungen.toggleAttribute("open")},style:{maxWidth:"250px"},"data-toggle":"tooltip","data-placement":"top",title:"Klicken, um mehr zu erfahren."},t("div",{class:"row m-0 p-0 rounded w-100"},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Rechtsgrundlage")),t("div",{class:"col-12"},this.dataBasket.progressCompletenessPermissions+this.dataBasket.progressCompletenessConsentByPersonalData<99.9?t("div",{class:"row p-0"},t("div",{class:"col-sm-12"},this.dataBasket.progressCompletenessPermissionByPersonalData+this.dataBasket.progressCompletenessConsentByPersonalData>0?t("small",{class:"badge badge-warning "},"Teilweise genehmigt"):t("small",{class:"badge badge-danger "},"Nicht genehmigt"),t("br",null),t("small",{class:"alert alert-secondary m-0 p-0"},t("b",null,"Einwilligung erforderlich"))),t("div",{class:"col-sm-4 text-center",title:"Genehmigt - Anteil der personenbezogenen Daten"},t("span",{class:0==this.dataBasket.progressCompletenessPermissionByPersonalData?"text-muted":""},t("i",{class:"fas fa-check-circle fa-1x"}),t("br",null)," ",this.dataBasket.progressCompletenessPermissionByPersonalData,"%")),t("div",{class:"col-sm-4 text-center",title:"Genehmigung ausstehend - Anteil der personenbezogenen Daten"},t("span",{class:this.dataBasket.progressCompletenessPermissionByPersonalData+this.dataBasket.progressCompletenessObjectionsByPersonalData>99.9?"text-muted":""},t("i",{class:"fas fa-exclamation-circle fa-1x"}),t("br",null)," ",100-(this.dataBasket.progressCompletenessPermissionByPersonalData+this.dataBasket.progressCompletenessObjectionsByPersonalData),"%")),t("div",{class:"col-sm-4 text-center",title:"Abgelehnt - Anteil der personenbezogenen Daten"},t("span",{class:0==this.dataBasket.progressCompletenessObjectionsByPersonalData?"text-muted":""},t("i",{class:"fas fa-times-circle fa-1x"}),t("br",null)," ",this.dataBasket.progressCompletenessObjectionsByPersonalData,"%"))):t("div",{class:"row d-flex justify-content-center"},t("div",{class:"col-3 p-0 m-0 cursor-help"},t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Klicken um mehr zu erfahren.",style:{maxWidth:"50px"}},t("trusd-com-circle-icon",{BGCOLOR:"#2ecc71"},t("div",{class:"d-flex align-items-center justify-content-center text-success",slot:"icon"},t("i",{class:"fas fa-check fa-2x"}))))))))),t("div",{class:"border flex-column d-flex ml-3 p-1 d-flex rounded cursor-pointer dataprotection-widget",onClick:()=>this.modalPersonalDataRecipientTable.toggleAttribute("open"),"data-toggle":"tooltip","data-placement":"top",title:"Klicken, um mehr zu erfahren."},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Weitergabe"),this.formWidgetForwardingPersonalDataByRecipient.find((e=>e.restricted))?t("div",null,t("h6",{class:"font-weight-light m-0"},"Eingeschränkt möglich für"),t("ul",null,this.formWidgetForwardingPersonalDataByRecipient.map((e=>e.restricted?t("li",{class:"","data-toggle":"tooltip","data-placement":"bottom"},e.rcpt.type===r.ERecipientCategoryTypeEnum.EExternalRecipient?"Externe Empfänger":e.rcpt.type===r.ERecipientCategoryTypeEnum.EDepartmentRecipient?"Hochschulintern":e.rcpt.type===r.ERecipientCategoryTypeEnum.ETeamRecipient?"Hochschuleinheit":"Einzelpersonen"):"")))):null,this.formWidgetForwardingPersonalDataByRecipient.find((e=>!e.restricted))?t("div",null,t("h6",{class:"font-weight-light m-0"},"Uneingeschränkt möglich für"),t("ul",null,this.formWidgetForwardingPersonalDataByRecipient.map((e=>e.restricted?"":t("li",{class:"","data-toggle":"tooltip","data-placement":"bottom"},e.rcpt.type===r.ERecipientCategoryTypeEnum.EExternalRecipient?"Externe Empfänger":e.rcpt.type===r.ERecipientCategoryTypeEnum.EDepartmentRecipient?"Hochschulintern":e.rcpt.type===r.ERecipientCategoryTypeEnum.ETeamRecipient?"Hochschuleinheit":"Einzelpersonen"))))):null)),t("div",{class:"flex-column d-flex ml-3"},t("div",{class:"border row m-0 p-1 rounded w-100 dataprotection-widget","data-toggle":"tooltip","data-placement":"top",title:"Klicken um mehr zu erfahren.",onClick:()=>{this.modalDeletionPeriod.toggleAttribute("open")}},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Löschfrist")),t("div",{class:"col-12"},i.checkPIIDeletion(this.dataBasket).length>0?new Date(i.checkPIIDeletion(this.dataBasket)[0].deletionDateMillis).toLocaleDateString():t("span",{class:"text-muted"},"Nicht verfügbar"))),t("div",{style:{flexBasis:"100%",height:"0"}}),t("div",{class:"border row ml-0 p-1 rounded w-100 dataprotection-widget","data-toggle":"tooltip","data-placement":"top",title:"Klicken um mehr zu erfahren.",onClick:()=>{this.modalPersonalDataSensitivity.toggleAttribute("open")}},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Sensibilität"),t("div",{class:"alert alert-secondary p-0 m-0",role:"alert"},i.getPIISpecialCategories(this.dataBasket).length>0?t("div",{class:"col p-0 m-0 cursor-help text-center","data-toggle":"tooltip","data-placement":"bottom",title:"Einige ausgewählte Kategori(en) von Daten gehören zu den besonderen Kategorien von personenbezogenen Daten!"},t("b",null,t("i",{class:"fas fa-exclamation-triangle"})),t("br",null),t("b",null,"Besondere Sensibilität")):t("div",{class:"col p-0 m-0 cursor-help text-center","data-toggle":"tooltip","data-placement":"bottom",title:"Keine der personenbezogenen Daten gehören einer Kategorie mit besonderer Sensibilität an."},"Normale Sensibilität"))))))))),t("div",{class:"row"},t("div",{class:"col-12 pt-3"},t("hr",{class:"bg-primary"}))),t("div",{class:"row pt-1"},t("div",{class:"col-12 p-0 d-flex justify-content-center"},t("button",{class:"btn btn-light border text-secondary m-1",onClick:()=>{this.formAddDataSubjects=!0},title:"Zusätzliche betroffene Personen hinzufügen"},t("i",{class:"fas fa-user-plus fa-2x"}),t("br",null),"Betroffene Personen hinzufügen"),t("button",{class:"btn btn-light border text-secondary m-1",onClick:()=>{this.formAddPersonalData=!0},title:"Weitere Kategorien von personenbezogenen Daten zu dem aktiven Datenkorb hinzufügen."},t("i",{class:"fas fa-tags fa-2x"}),t("br",null),"Weitere pers. Daten hinzufügen"),t("button",{disabled:!(this.dataBasket.ID===l.taskAufgabe1DataBasketID&&l.taskAddedRequestForPicture||this.dataBasket.ID.startsWith("d003b03f")),class:"btn btn-light border text-secondary m-1",onClick:()=>{this.modalDownloadPersonalData.toggleAttribute("open")},title:"Die verfügbaren personenbezogenen Daten herunterladen."},t("i",{class:"fas fa-file-excel fa-2x"}),t("br",null),"Pers. Daten exportieren"))),t("div",{class:"row pt-3"},t("div",{class:"col-12 p-0 shadow border"},this.dataBasket.status===n.ACTIVE?t("div",{class:"text-center m-2 p-2 rounded border bg-light"},t("span",{class:"h6"},"Es läuft gerade eine Anfrage - Sie müssen gerade ",t("u",null,"nicht")," aktiv werden."),t("div",{class:"progress"},t("div",{class:"progress-bar",role:"progressbar","aria-valuenow":"70","aria-valuemin":"0","aria-valuemax":"100",style:{width:this.dataBasket.progress+"%"}},this.dataBasket.progress,"%"))):null,"SELF"===this.dataBasket.requestDataRequestedFrom?"":t("div",{class:"col-12"},t("div",{class:"row pt-3 justify-content-center"},t("div",{class:"flex-column d-flex ml-3 p-1 border rounded cursor-help"},this.dataBasket.progressCompletenessPersonalData<100&&"DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom?t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Die angefragten Daten sind erst zu "+this.dataBasket.progressCompletenessPersonalData+"% vollständig."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{style:{width:"50px"}},t("trusd-com-circle-progress-bar-small",{Type:"percent",ProgressMax:100,ProgressCurrent:this.dataBasket.progressCompletenessPersonalData}))),t("div",{class:"col-9 text-center"},t("h6",{class:"font-weight-light m-0"},"Datenvollständigkeit:"),t("small",{class:"badge badge-warning "},"unvollständig")))):this.dataBasket.progressCompletenessPersonalData<100&&100==this.dataBasket.progressCompletenessPersonalDataOtherDepartment?t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Alle angefragten Daten stehen in einer anderen Abteilung zur Verfügung und werden Ihnen zur Verfügung gestellt."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{style:{width:"50px"}},t("trusd-com-circle-progress-bar-small",{ProgressColor:"#dc3545",Type:"percent",ProgressMax:100,ProgressCurrent:this.dataBasket.progressCompletenessPersonalData}))),t("div",{class:"col-9 text-center"},t("h6",{class:"font-weight-light m-0"},"Datenvollständigkeit:"),t("small",{class:"badge badge-warning"},"unvollständig")," ",t("small",{class:"badge badge-success "},"vorrätig")))):t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Alle angefragten Daten sind vollständig und stehen Ihnen sofort zur Verfügung."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{style:{width:"50px"}},t("trusd-com-circle-progress-bar-small",{Type:"percent",ProgressMax:100,ProgressCurrent:this.dataBasket.progressCompletenessPersonalData}))),t("div",{class:"col-9"},t("h6",{class:"font-weight-light m-0"},"Datenvollständigkeit:"),t("small",{class:"font-weight-light"},"vollständig"))))),this.dataBasket.status!==n.ACTIVE&&this.dataBasket.status!==n.DRAFTING||"DATA_SUBJECT"!==this.dataBasket.requestDataRequestedFrom&&"FROM_OTHER"!==this.dataBasket.requestDataRequestedFrom?"":t("div",{class:"flex-column d-flex ml-3 p-1 border rounded cursor-help"},t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Sie haben die Daten bei"+("DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom?" den betroffenen Personen angefragt":" einer Abteilung oder bestimmten Person angefragt")},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{class:"d-flex align-items-center justify-content-center text-secondary h-100"},t("i",{class:"fas fa-user-friends fa-2x"}))),t("div",{class:"col-9"},t("h6",{class:"font-weight-light m-0"},"Angefragt bei:"),"DATA_SUBJECT"===this.dataBasket.requestDataRequestedFrom?t("small",{class:"font-weight-light"},"betroffene Personen"):t("small",{class:"font-weight-light",style:{lineHeight:"90%"}},this.dataBasket.dataSourcePersonOrDepartment.last_name+", "+this.dataBasket.dataSourcePersonOrDepartment.first_name))))),t("div",{class:"flex-column d-flex ml-3 p-1 border rounded cursor-help"},-1==this.formWidgetOutdatedData?t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Die Aktualität der Daten konnte nicht ermittelt werden."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{class:"d-flex align-items-center justify-content-center text-secondary h-100"},t("i",{class:"far fa-calendar-times fa-2x"}))),t("div",{class:"col-9"},t("h6",{class:"font-weight-light m-0"},"Datenaktualität:"),t("small",{class:"font-weight-light"},"unbekannt")))):this.formWidgetOutdatedData>0?t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Bei "+this.formWidgetOutdatedData+" Person(en) sind die verfügbaren personenbezogenen Daten eventuell veraltet."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{class:"d-flex align-items-center justify-content-center text-secondary h-100"},t("i",{class:"far fa-calendar-times fa-2x"}))),t("div",{class:"col-9"},t("h6",{class:"font-weight-light m-0"},"Datenaktualität:"),t("small",{class:"badge badge-warning"},"älter als 180 Tage")))):t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Die personenbezogenen Daten sind aktuell."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{class:"d-flex align-items-center justify-content-center text-secondary h-100"},t("i",{class:"fas fa-calendar-check fa-2x"}))),t("div",{class:"col-9"},t("h6",{class:"font-weight-light m-0"},"Datenaktualität:"),t("small",{class:"font-weight-light"},"aktuell"))))),this.dataBasket.status===n.ACTIVE||this.dataBasket.status===n.DRAFTING?t("div",{class:"flex-column d-flex ml-3 p-1 border rounded cursor-help"},t("div",{"data-toggle":"tooltip","data-placement":"bottom",title:"Die von Ihnen angegebene Frist, bis zu der Sie die Daten benötigen."},t("div",{class:"row ml-0"},t("div",{class:"col-3"},t("div",{class:"d-flex align-items-center justify-content-center text-secondary h-100"},t("i",{class:"far fa-calendar-alt fa-2x"}))),t("div",{class:"col-9"},t("h6",{class:"font-weight-light m-0"},"Rückmeldefrist:"),t("small",{class:"font-weight-light"},""!==this.dataBasket.deadline?this.dataBasket.deadline:"Keine Frist festgelgt"))))):null)),this.dataBasket.dataSets.length>0?t("details",{class:"p-3"},t("summary",null,t("span",{class:"h5 font-weight-light"},"Alle betroffenen Personen in diesem Datenkorb")),t("div",{class:"row p-3 m-0 overflow-auto bg-white",style:{maxHeight:"600px"}},t("div",{class:"col-12"},t("trusd-piiq-com-data-basket-data-subject-list",{class:"w-100",dataBasket:this.dataBasket})))):t("div",{class:"row"},t("div",{class:"col-3"}),t("div",{class:"col-6"},t("p",{class:"text-center font-italic w-100"},"Bitte wählen Sie oben die personenbezogenen Daten und die betroffenen Personen aus und fügen Sie Ihre Auswahl anschließend dem Datenkorb hinzu.")),t("div",{class:"col-3"})))))),t("div",{class:"tab-pane container"+("MESSAGES"===this.formTabPaneState?" active":""),id:"data-subject-select-modal-tab-external"},t("div",{class:"row pt-3",style:{minHeight:"50vh"}},t("div",{class:"col-sm-4"},t("div",{class:"panel panel-primary"},t("div",{class:"panel-heading top-bar"},t("div",{class:"col-md-8 col-xs-8"},t("span",{class:"panel-title"},"Kontakte"))),t("table",{class:"table table-hover"},t("tbody",null,this.dataBasket.conversation.map((e=>t("tr",{class:"cursor-pointer"+(this.formMessagesPaneContactsSelected&&this.formMessagesPaneContactsSelected.dataSubject.id===e.dataSubject.dataSubject.id?" bg-primary text-white":""),onClick:()=>{this.formMessagesPaneContactsSelected=e.dataSubject}},t("td",null,e.dataSubject.dataSubject.last_name+", "+e.dataSubject.dataSubject.first_name)))))))),t("div",{class:"col-sm-8"},t("div",{class:"chatbody"},t("div",{class:"panel panel-primary"},this.formMessagesPaneContactsSelected?t("div",null,t("div",{class:"panel-heading top-bar"},t("div",{class:"col-md-8 col-xs-8"},t("span",{class:"panel-title"},"Konversation mit ",this.formMessagesPaneContactsSelected.dataSubject.last_name+", "+this.formMessagesPaneContactsSelected.dataSubject.first_name))),t("div",{class:"panel-body msg_container_base bg-light"},this.dataBasket.conversation.find((e=>e.dataSubject.dataSubject.id===this.formMessagesPaneContactsSelected.dataSubject.id)).messages.map((e=>e.sender.id===this.formMessagesPaneContactsSelected.dataSubject.id?t("div",{class:"row msg_container base_receive"},t("div",{class:"col-md-10 col-xs-10"},t("div",{class:"col-12 text-left pl-0"},t("small",{class:"text-muted"},"Nachricht von ",this.formMessagesPaneContactsSelected.dataSubject.last_name+", "+this.formMessagesPaneContactsSelected.dataSubject.first_name)),t("div",{class:"messages msg_receive"},t("p",null,e.message),t("time",null,e.date)))):e.message.trim().startsWith("123")?t("div",{class:"row msg_container base_sent"},t("div",{class:"col-md-10 col-xs-10"},t("div",{class:"messages msg_sent",style:{background:"transparent",boxShadow:"none"}},t("p",null,t("i",null,e.message.substring(3))," ",t("span",{class:"text-muted",style:{fontSize:"11px",float:"right"}},e.date))))):t("div",{class:"row msg_container base_sent"},t("div",{class:"col-md-10 col-xs-10"},t("div",{class:"col-12 text-right pr-0"},t("small",{class:"text-muted"},"Ihre Nachricht")),t("div",{class:"messages msg_sent"},t("p",null,e.message),t("time",null,e.date))))))),t("div",{class:"panel-footer"},t("textarea",{class:"form-control input-sm chat_input","aria-label":"With textarea",placeholder:"Geben Sie Ihre Nachricht ein...",value:this.formMessageNew,onInput:e=>this.formMessageNew=e.target.value}),t("button",{class:"btn btn-primary btn-sm",id:"btn-chat",disabled:""===this.formMessageNew,onClick:()=>{this.dataBasket=i.store(i.addToConversations(this.dataBasket,this.formMessagesPaneContactsSelected,this.formMessageNew,{name:"Sie",id:"data-processor-1"})),this.formMessageNew=""}},"Versenden"))):t("i",null,"Bitte wählen Sie einen Kontakt auf der linken Seite aus, um sich Nachrichten anzeigen zu lassen.")))))),t("div",{class:"tab-pane container"+("LOG"===this.formTabPaneState?" active":""),id:"data-subject-select-modal-tab-external"},"LOG"===this.formTabPaneState?t("trusd-piiq-com-activity-log",{activities:this.dataBasket.activityLog?this.dataBasket.activityLog:null}):null)))),this.dataBasket.status===n.DRAFTING?t("div",{class:"row d-flex justify-content-end"},t("div",{class:"p-2"},t("button",{type:"button",class:"btn btn-outline-danger ",onClick:()=>l.dbEDataBasket=[...l.dbEDataBasket.filter((e=>e.ID!==this.dataBasket.ID))]},"Verwerfen")),t("div",{class:"p-2"},t("button",{type:"button",class:"btn btn-outline-primary",onClick:()=>{this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{status:n.DRAFTING}),this.dataBasket=i.updateProgress(this.dataBasket),l.dbEDataBasket=[...l.dbEDataBasket.filter((e=>e.ID!==this.dataBasket.ID)),this.dataBasket],document.getElementById("toast-data-basket-import-save-draft").show()}},"Als Entwurf Speichern")),t("ui5-toast",{id:"toast-data-basket-import-save-draft"},t("ui5-messagestrip",{type:"Positive","no-close-button":!0},t("b",null,"Gespeichert!"))),t("div",{class:"p-2"},t("button",{type:"button",class:"btn btn-success",onClick:()=>{this.dataBasket.activityLog.addCreated(this.dataBasket.requestingDataProcessor.last_name+", "+this.dataBasket.requestingDataProcessor.first_name),this.dataBasket=Object.assign(Object.assign({},this.dataBasket),{status:n.ACTIVE}),this.dataBasket=i.updateProgress(this.dataBasket),l.dbEDataBasket=[...l.dbEDataBasket.filter((e=>e.ID!==this.dataBasket.ID)),this.dataBasket],window.location.href=l.baseURL+p.route+"/"+this.dataBasket.ID}},"Datenkorb aktiv schalten"))):"",t("ui5-toast",{id:"toast-data-basket-send-request"},t("ui5-messagestrip",{type:"Positive","no-close-button":!0},t("b",null,"Anfrage versendet!"))),t("trusd-com-modal-window",{ref:e=>this.modalDownloadPersonalData=e},t("span",{slot:"modal-title"},"Personenbezogene Daten exportieren"),t("div",{slot:"modal-content"},"Sie müssen die exportierten personenbezogenen Daten schützen:",t("ul",null,o(this.dataBasket.selectedProcessingRecordID).technicalMeasures.map((e=>t("details",null,t("summary",null,e.name),e.description))),o(this.dataBasket.selectedProcessingRecordID).organisationalMeasures.map((e=>t("details",null,t("summary",null,e.name),e.description)))),this.modalDownloadPersonalDataShowPassword?t("div",{class:"row justify-content-center"},t("div",{class:"col-6"},t("div",{class:"card text-center"},t("span",{class:"text-center"}," Passwort:"),t("p",{class:"lead text-center"},"schlafsack-flug-platz")))):null,this.dataBasket.ID.startsWith("d003b03f")?t("div",null,t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("form",{method:"get",action:"/files/datenkorb_d003b03f_alle.xlsx"},t("button",{class:"btn btn-outline-secondary m-1 w-100",title:"Dieser Export enthält alle personenbezogenen Daten.",onClick:()=>this.modalDownloadPersonalDataShowPassword=!0},t("i",{class:"fas fa-file-excel fa-1x"})," Alle pers. Daten")))),this.formWidgetForwardingPersonalDataByRecipient.find((e=>e.rcpt.type===r.ERecipientCategoryTypeEnum.EDepartmentRecipient))?t("div",{class:"row"},t("div",{class:"col-12"},t("form",{method:"get",action:"/files/datenkorb_d003b03f_organisationsweit.xlsx"},t("button",{class:"btn btn-outline-secondary m-1 w-100",title:"Dieser Export enthält nur personenbezogene Daten, die an Empfänger in der Organisation weitergegen werden dürfen.",onClick:()=>this.modalDownloadPersonalDataShowPassword=!0},t("i",{class:"fas fa-file-excel fa-1x"})," Pers. Daten optimiert für Empfänger in der Organisation")))):null,this.formWidgetForwardingPersonalDataByRecipient.find((e=>e.rcpt.type===r.ERecipientCategoryTypeEnum.EExternalRecipient))?t("div",{class:"row"},t("div",{class:"col-12"},t("form",{method:"get",action:"/files/datenkorb_d003b03f_externe_empfänger.xlsx"},t("button",{class:"btn btn-outline-secondary m-1 w-100",title:"Dieser Export enthält nur personenbezogene Daten, die an externe Empfänger weitergegeben werden dürfen.",onClick:()=>this.modalDownloadPersonalDataShowPassword=!0},t("i",{class:"fas fa-file-excel fa-1x"})," Pers. Daten optimiert für externe Empfänger")))):null):this.dataBasket.ID===l.taskAufgabe1DataBasketID?t("div",null,t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("form",{method:"get",action:"/files/datenkorb_e28fada4_alle.xlsx"},t("button",{class:"btn btn-outline-secondary m-1 w-100",title:"Dieser Export enthält alle personenbezogenen Daten.",onClick:()=>this.modalDownloadPersonalDataShowPassword=!0},t("i",{class:"fas fa-file-excel fa-1x"})," Alle pers. Daten")))),this.formWidgetForwardingPersonalDataByRecipient.find((e=>e.rcpt.type===r.ERecipientCategoryTypeEnum.EDepartmentRecipient))?t("div",{class:"row"},t("div",{class:"col-12"},t("form",{method:"get",action:"/files/datenkorb_e28fada4_organisationsweit.xlsx"},t("button",{class:"btn btn-outline-secondary m-1 w-100",title:"Dieser Export enthält nur personenbezogene Daten, die an Empfänger in der Organisation weitergegen werden dürfen.",onClick:()=>this.modalDownloadPersonalDataShowPassword=!0},t("i",{class:"fas fa-file-excel fa-1x"})," Pers. Daten optimiert für Empfänger in der Organisation")))):null,this.formWidgetForwardingPersonalDataByRecipient.find((e=>e.rcpt.type===r.ERecipientCategoryTypeEnum.EExternalRecipient))?t("div",{class:"row"},t("div",{class:"col-12"},t("form",{method:"get",action:"/files/datenkorb_e28fada4_externe_empfänger.xlsx"},t("button",{class:"btn btn-outline-secondary m-1 w-100",title:"Dieser Export enthält nur personenbezogene Daten, die an externe Empfänger weitergegeben werden dürfen.",onClick:()=>this.modalDownloadPersonalDataShowPassword=!0},t("i",{class:"fas fa-file-excel fa-1x"})," Pers. Daten optimiert für externe Empfänger")))):null):null),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{this.modalDownloadPersonalData.toggleAttribute("open")}},"Schließen")," ")),t("trusd-com-modal-window",{ref:e=>this.modalGenehmigungen=e},t("span",{slot:"modal-title"},"Rechtsgrundlage"),t("div",{slot:"modal-content"},t("div",{class:"row"},t("div",{class:"col-12 ml-3 d-flex"},t("div",{class:"row p-1 bg-light rounded w-100"},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Einwilligungen")),t("div",{class:"col-12"},c(o(this.dataBasket.selectedProcessingRecordID)).find((e=>e.type===r.VOLawfulnessTypeEnum.A))?t("b",null,"erforderlich"):"nicht erforderlich")))),t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("h5",{class:"font-weight-light"},"Rechtsgrundlage(n) der Verarbeitung"),(()=>{let e=o(this.dataBasket.selectedProcessingRecordID);return e?c(e):[]})().map((e=>t("trusd-piiq-com-lawfulness-icon",{Lawfulness:e})))))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{this.modalGenehmigungen.toggleAttribute("open")}},"Schließen")," ")),t("trusd-com-modal-window",{ref:e=>this.modalPersonalDataRecipientTable=e},t("span",{slot:"modal-title"},"Weitergabe / Veröffentlichung"),t("div",{slot:"modal-content"},t("div",{class:"row p-3"},t("div",{class:"col-12 p-3 shadow"},"Sie dürfen personenbezogene Daten nur für ",t("span",{class:"cursor-help privacy-tooltip btn-link","data-toggle":"tooltip","data-placement":"bottom",title:"Empfänger ist jede Person oder Stelle, die Daten erhält bzw. auf die Daten zugreifen kann."},"Empfänger")," zugänglich machen, wenn dies gestattet ist.")),t("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},t("li",{class:"nav-item"},t("a",{class:"nav-link active",id:"weitergabe-veroeffentlichung-moegliche-empfaenger-tab","data-toggle":"tab",href:"#weitergabe-veroeffentlichung-moegliche-empfaenger",role:"tab","aria-controls":"weitergabe-veroeffentlichung-moegliche-empfaenger","aria-selected":"true"},"Mögliche Empfänger")),t("li",{class:"nav-item"},t("a",{class:"nav-link",id:"weitergabe-veroeffentlichung-hilfe-tab","data-toggle":"tab",href:"#weitergabe-veroeffentlichung-hilfe",role:"tab","aria-controls":"weitergabe-veroeffentlichung-hilfe","aria-selected":"false"},"Hilfe"))),t("div",{class:"tab-content",id:"myTabContent"},t("div",{class:"tab-pane fade show active",id:"weitergabe-veroeffentlichung-moegliche-empfaenger",role:"tabpanel","aria-labelledby":"home-tab"},t("trusd-piiq-com-data-basket-personal-data-recipient-table",{dataBasket:this.dataBasket})),t("div",{class:"tab-pane fade",id:"weitergabe-veroeffentlichung-hilfe",role:"tabpanel","aria-labelledby":"profile-tab"},t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("details",null,t("summary",null,"Ich muss personenbezogene Daten weitergeben, für die ich keine Genehmigung habe."),t("ui5-messagestrip",{type:"Warning","no-close-button":!0},"Geben Sie die Daten vorerst ",t("u",null,"nicht")," weiter."),t("p",null,"Sie dürfen personenbezogene Daten prinzipiell nur für Empfänger verfügbar machen, wenn eine Genehmigung vorliegt. Falls keine Genehmigung vorliegt, dürfen Sie die Daten nicht weitergeben. Konktaktieren Sie in einem solchen Fall die Datenschutzbeauftragte.")),t("details",null,t("summary",null,'Was sind "externe Empfänger"?'),t("p",null,"Externe Empfänger sind Personen, Unternehmen und Einrichtungen, die nicht der Hochschule angehören.")),t("details",null,t("summary",null,"Der Empfänger, an den ich die Daten weitergeben möchte, ist nicht gelistet."),t("p",null,"Falls Sie weitere Empfänger benötigen, kontaktieren Sie die Datenschutzbeauftragte. Die Empfänger werden dann der Liste der möglichen Empfänger hinzugefügt."))))))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{this.modalPersonalDataRecipientTable.toggleAttribute("open")}},"Schließen")," ")),t("trusd-com-modal-window",{ref:e=>this.modalDeletionPeriod=e},t("span",{slot:"modal-title"},"Löschfrist"),t("div",{slot:"modal-content"},t("div",{class:"row p-3"},t("div",{class:"col-12 p-3 shadow"},"Sie müssen die erhobenen personenbezogenen Daten löschen, wenn die Verarbeitungstätigkeit abgeschlossen ist und alle rechtlichen Aufbewahrungsfristen ausgelaufen sind.")),t("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},t("li",{class:"nav-item"},t("a",{class:"nav-link active",id:"loeschfristen-moegliche-empfaenger-tab","data-toggle":"tab",href:"#loeschfristen-moegliche-empfaenger",role:"tab","aria-controls":"loeschfristen-moegliche-empfaenger","aria-selected":"true"},"Löschfristen")),t("li",{class:"nav-item"},t("a",{class:"nav-link",id:"loeschfristen-hilfe-tab","data-toggle":"tab",href:"#loeschfristen-hilfe",role:"tab","aria-controls":"loeschfristen-hilfe","aria-selected":"false"},"Hilfe"))),t("div",{class:"tab-content",id:"myTabContent"},t("div",{class:"tab-pane fade show active",id:"loeschfristen-moegliche-empfaenger",role:"tabpanel","aria-labelledby":"home-tab"},i.checkPIIDeletion(this.dataBasket).length>0?t("div",null,i.checkPIIDeletion(this.dataBasket).map((e=>t("details",{class:"pt-3"},t("summary",null,"Löschfrist: ",new Date(e.deletionDateMillis).toLocaleDateString()),t("p",null,"Sie müssen die personenbezogenen Daten der folgenden betroffenen Personen zur angegebenen Frist löschen:"),t("ul",null,e.person.map((e=>t("li",null,t("i",{class:"fas fa-user-circle"})," ",e.dataSubject.last_name+", "+e.dataSubject.first_name)))))))):"Noch nicht verfügbar"),t("div",{class:"tab-pane fade",id:"loeschfristen-hilfe",role:"tabpanel","aria-labelledby":"profile-tab"},t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("details",null,t("summary",null,"Welche Daten muss ich löschen?"),t("p",null,"Sie müssen ",t("b",null,"alle")," personenbezogenen Daten einer betroffenen Person löschen, die Sie im Rahmen dieser Verarbeitungstätigkeit erhoben haben."),t("ul",null,t("li",null,"Von allen Geräten löschen;"),t("li",null,"In allen Cloud- und E-Mail-Speichern löschen;"),t("li",null,"Alle Papierunterlagen vernichten;")))))))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{this.modalDeletionPeriod.toggleAttribute("open")}},"Schließen")," ")),t("trusd-com-modal-window",{ref:e=>this.modalPersonalDataSensitivity=e},t("span",{slot:"modal-title"},"Sensibilität"),t("div",{slot:"modal-content"},t("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},t("li",{class:"nav-item"},t("a",{class:"nav-link active",id:"sensibilitaet-tab","data-toggle":"tab",href:"#sensibilitaet",role:"tab","aria-controls":"sensibilitaet","aria-selected":"true"},"Besondere Kategorien pers. Daten")),t("li",{class:"nav-item"},t("a",{class:"nav-link",id:"sensibilitaet-hilfe-tab","data-toggle":"tab",href:"#sensibilitaet-hilfe",role:"tab","aria-controls":"sensibilitaet-hilfe","aria-selected":"false"},"Hilfe"))),t("div",{class:"tab-content",id:"myTabContent"},t("div",{class:"tab-pane fade show active",id:"sensibilitaet",role:"tabpanel","aria-labelledby":"home-tab"},i.getPIISpecialCategories(this.dataBasket).length>0?t("div",null,t("ui5-messagestrip",{type:"Warning","no-close-button":!0},t("b",null,"Hinweis!"),t("p",null,"Beachten Sie, dass Sie die hier gelisteten pers. Daten"),t("ul",null,t("li",null,"ausschließlich für den angegebenen Zweck verwenden;      "),t("li",null,"ausschließlich auf Ihren Arbeitsgeräten der Hochschule speichern und verarbeiten."))),t("p",null,"In diesem Datenkorb werden die folgenden besonderen Kategorien von personenbezogenen Daten verarbeitet:"),t("ul",null,t("li",null,i.getPIISpecialCategories(this.dataBasket)[0].dataCategory.friendlyName))):t("p",null,"In diesem Datenkorb werden keine besonderen Kategorien von personenbezogenen Daten verarbeitet.")),t("div",{class:"tab-pane fade",id:"sensibilitaet-hilfe",role:"tabpanel","aria-labelledby":"profile-tab"},t("div",{class:"row pt-3"},t("div",{class:"col-12"},t("details",null,t("summary",null,"Welche Daten gehören zu den besonderen Kategorien personenbezogener Daten?"),t("ul",null,t("li",null,"rassische und ethnische Herkunft (z.B. Hautfarbe)"),t("li",null,"politische Meinungen (z.B. Parteimitgliedschaft)"),t("li",null,"religiöse oder philosophische Überzeugungen (z.B. Glaubensrichtung)"),t("li",null,"Gewerkschaftszugehörigkeit (z.B. Mitglied bei Gewerkschaft XY)"),t("li",null,"genetische Daten (z.B. Gensequenz aus Gentest)"),t("li",null,"biometrische Daten (z.B. Fingerabdruck)"),t("li",null,"Gesundheit (z.B. Erkrankungen)"),t("li",null,"Sexualleben oder sexuelle Orientierung (z.B. Homosexualität)")))))))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{this.modalPersonalDataSensitivity.toggleAttribute("open")}},"Schließen")," ")),t("trusd-com-modal-window",{ref:e=>this.modalProcessingRecordEntryViewer=e},t("span",{slot:"modal-title"},"Verarbeitungstätigkeit ",t("b",null,o(this.dataBasket.selectedProcessingRecordID).friendlyName)),t("div",{slot:"modal-content"},t("div",{class:"col-12 pt-3 pb-3"},t("div",{class:"row"},t("div",{class:"col-12 shadow"},t("h5",{class:"font-weight-light"},"Beschreibung der Verarbeitungstätigkeit:"),this.dataBasket.description))),"Die personenbezogenen Daten dürfen für die folgenden Zwecke verarbeitet werden:",t("br",null),o(this.dataBasket.selectedProcessingRecordID).purposes.map((e=>t("ui5-panel",{collapsed:!0},t("div",{slot:"header"},e.displayName),e.descriptionText)))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-secondary",onClick:()=>{this.modalProcessingRecordEntryViewer.toggleAttribute("open")}},"Schließen")," ")),t("trusd-com-modal-window",{ref:e=>this.modalFirstTimeRuhezustand=e},t("span",{slot:"modal-title"},"Hinweis"),t("div",{slot:"modal-content"},t("ui5-messagestrip",{type:"Information","no-close-button":!0},t("h5",null,"Dieser Datenkorb befindet sich jetzt im Ruhezustand!"),t("p",null,"Datenkörbe im Ruhezustand haben keine laufenen Anfragen. Sie können jedoch weitere Personen und personenbezogene Daten hinzufügen."))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-primary",onClick:()=>{this.modalFirstTimeRuhezustand.toggleAttribute("open")}},"weiter")," ")),t("trusd-com-modal-window",{ref:e=>this.modalTask=e},t("span",{slot:"modal-title"},"Hinweis"),t("div",{slot:"modal-content"},t("ui5-messagestrip",{type:"Positive","no-close-button":!0},t("h5",null,"Der Datenkorb ist jetzt aktiv!"),t("p",null,"Der Datenkorb bleibt solange aktiv, bis alle angefragten Personen Ihre versendete Anfrage beantwortet haben."))),t("div",{slot:"modal-footer"},t("button",{type:"button",class:"btn btn-primary",onClick:()=>{this.modalTask.toggleAttribute("open")}},"Weiter")," ")))}get el(){return s(this)}};g.route="/datenkoerbe/:datenkorbId",g.style=".tooltips.sc-trusd-piiq-com-planned-processing-overview .tooltiptext.sc-trusd-piiq-com-planned-processing-overview{font-size:small;visibility:hidden;width:auto;background-color:#EEEEEE;color:#000;text-align:center;border-radius:6px;padding:5px 0;position:absolute !important;z-index:1000;bottom:100%;left:50%;margin-left:-60px;opacity:0;transition:opacity 1s}.tooltips.sc-trusd-piiq-com-planned-processing-overview .tooltiptext.sc-trusd-piiq-com-planned-processing-overview::after{content:\"\";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:black transparent transparent transparent}.tooltips.sc-trusd-piiq-com-planned-processing-overview:hover .tooltiptext.sc-trusd-piiq-com-planned-processing-overview{visibility:visible;opacity:1;transition:opacity 0s linear 1s;overflow:visible !important}.tooltip-arrow.sc-trusd-piiq-com-planned-processing-overview,.privacy-tooltip.sc-trusd-piiq-com-planned-processing-overview+.tooltip.sc-trusd-piiq-com-planned-processing-overview>.tooltip-inner.sc-trusd-piiq-com-planned-processing-overview{background-color:#0d5c95}.cursor-pointer.sc-trusd-piiq-com-planned-processing-overview{cursor:pointer}.cursor-help.sc-trusd-piiq-com-planned-processing-overview{cursor:help}button.sc-trusd-piiq-com-planned-processing-overview:disabled{cursor:not-allowed;pointer-events:all !important}.sc-trusd-piiq-com-planned-processing-overview-h{display:block}*.sc-trusd-piiq-com-planned-processing-overview{text-align:left}summary.sc-trusd-piiq-com-planned-processing-overview{outline:none}details[open].sc-trusd-piiq-com-planned-processing-overview summary.sc-trusd-piiq-com-planned-processing-overview~*.sc-trusd-piiq-com-planned-processing-overview{animation:sweep .5s ease-in-out}@keyframes sweep{0%{opacity:0;transform:translateX(-10px)}100%{opacity:1;transform:translateX(0)}}.dataprotection-widget.sc-trusd-piiq-com-planned-processing-overview{background-color:white}.dataprotection-widget.sc-trusd-piiq-com-planned-processing-overview:hover{background-color:#e3f3ff;cursor:pointer}.chatperson.sc-trusd-piiq-com-planned-processing-overview{display:block;border-bottom:1px solid #eee;width:100%;display:flex;align-items:center;white-space:nowrap;overflow:hidden;margin-bottom:15px;padding:4px}.chatperson.sc-trusd-piiq-com-planned-processing-overview:hover{text-decoration:none;border-bottom:1px solid orange}.namechat.sc-trusd-piiq-com-planned-processing-overview{display:inline-block;vertical-align:middle}.chatperson.sc-trusd-piiq-com-planned-processing-overview .chatimg.sc-trusd-piiq-com-planned-processing-overview img.sc-trusd-piiq-com-planned-processing-overview{width:40px;height:40px;background-image:url('http://i.imgur.com/JqEuJ6t.png')}.chatperson.sc-trusd-piiq-com-planned-processing-overview .pname.sc-trusd-piiq-com-planned-processing-overview{font-size:18px;padding-left:5px}.chatperson.sc-trusd-piiq-com-planned-processing-overview .lastmsg.sc-trusd-piiq-com-planned-processing-overview{font-size:12px;padding-left:5px;color:#ccc}body.sc-trusd-piiq-com-planned-processing-overview{height:400px;position:fixed;bottom:0}.col-md-2.sc-trusd-piiq-com-planned-processing-overview,.col-md-10.sc-trusd-piiq-com-planned-processing-overview{padding:0}.panel.sc-trusd-piiq-com-planned-processing-overview{margin-bottom:0px}.chat-window.sc-trusd-piiq-com-planned-processing-overview{bottom:0;position:fixed;float:right;margin-left:10px}.chat-window.sc-trusd-piiq-com-planned-processing-overview>div.sc-trusd-piiq-com-planned-processing-overview>.panel.sc-trusd-piiq-com-planned-processing-overview{border-radius:5px 5px 0 0}.icon_minim.sc-trusd-piiq-com-planned-processing-overview{padding:2px 10px}.msg_container_base.sc-trusd-piiq-com-planned-processing-overview{margin:0;padding:0 10px 10px;max-height:300px;overflow-x:hidden}.top-bar.sc-trusd-piiq-com-planned-processing-overview{padding:10px;position:relative;overflow:hidden}.msg_receive.sc-trusd-piiq-com-planned-processing-overview{padding-left:0;margin-left:0}.msg_sent.sc-trusd-piiq-com-planned-processing-overview{padding-bottom:20px !important;margin-right:0}.messages.sc-trusd-piiq-com-planned-processing-overview{background:white;padding:10px;border-radius:2px;box-shadow:0 1px 2px rgba(0, 0, 0, 0.2);max-width:100%}.messages.sc-trusd-piiq-com-planned-processing-overview>p.sc-trusd-piiq-com-planned-processing-overview{font-size:13px;margin:0 0 0.2rem 0}.messages.sc-trusd-piiq-com-planned-processing-overview>time.sc-trusd-piiq-com-planned-processing-overview{font-size:11px;color:#ccc}.msg_container.sc-trusd-piiq-com-planned-processing-overview{padding:10px;overflow:hidden;display:flex}img.sc-trusd-piiq-com-planned-processing-overview{display:block;width:100%}.base_sent.sc-trusd-piiq-com-planned-processing-overview{justify-content:flex-end;align-items:flex-end}.msg_sent.sc-trusd-piiq-com-planned-processing-overview>time.sc-trusd-piiq-com-planned-processing-overview{float:right}.btn-group.dropup.sc-trusd-piiq-com-planned-processing-overview{position:fixed;left:0px;bottom:0}";export{g as P}