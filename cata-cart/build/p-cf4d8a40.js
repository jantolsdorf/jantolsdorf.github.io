import{e,s as t,i,a as s,b as o,r,d as n,c as a,U as l,l as h,E as d,f as u,G as p,I as c}from"./p-76a5b83d.js";import{g as m,c as v,T as g,y as _,U as k,W as f,f as b,s as w,X as y,Y as x,Z as $,q as z,_ as T,$ as S,a0 as B}from"./p-3ca5d941.js";import"./p-337430ef.js";import{I as M}from"./p-6e36a246.js";import{r as q,R as C}from"./p-59e1f273.js";import{I as j}from"./p-eaf837f7.js";import{a as H,b as L}from"./p-547388e2.js";import{V as R}from"./p-39e4b21b.js";import{R as D}from"./p-617add97.js";import{b as I,S as F}from"./p-fd76076a.js";import{R as P,V as E}from"./p-d85e610b.js";e("sys-cancel",{pathData:"M512 256q0 54-20 100.5t-54.5 81T356 492t-100 20q-54 0-100.5-20t-81-55T20 355.5 0 256t20.5-100 55-81.5T157 20t99-20q53 0 100 20t81.5 54.5T492 156t20 100zm-32 0q0-47-17.5-87.5t-48-71-71.5-48T256 32t-87 18-71.5 48.5-48 71T32 256q0 47 17.5 88t48 71 71.5 47.5 87 17.5q47 0 88-17.5t71-47.5 47.5-71 17.5-88zm-186-7q-5 3-1 9l89 89q9 8 0 17l-16 17q-8 4-9 4t-9-4l-89-89q-1-2-4-2-4 0-5 2l-88 89q-6 4-9 4-1 0-9-4l-16-17q-8-9 0-17l88-89q5-5 0-9l-88-89q-8-9 0-17l16-17q4-4 9-4t9 4l88 89q2 2 5 2 2 0 4-2l89-89q4-4 9-4t9 4l16 17q9 8 0 17z",ltr:!1,collection:"SAP-icons",packageName:"@ui5/webcomponents-icons"});const V=()=>t`<slot name="closeIcon"></slot>`,A=e=>t`<ui5-icon name="${i(e.iconURI)}" accessible-name="${i(e.tokenDeletableText)}" show-tooltip></ui5-icon>`,O=(e,r,n)=>(s(r),o(n),(e=>t`<div tabindex="${i(e._tabIndex)}" @click="${e._handleSelect}" @keydown="${e._keydown}" class="ui5-token--wrapper" dir="${i(e.effectiveDir)}" role="option" aria-selected="${i(e.selected)}"><span class="ui5-token--text">${i(e.text)}</span>${e.readonly?void 0:(e=>t`<div class="ui5-token--icon" @click="${e._delete}">${e.closeIcon.length?V():A(e)}</div>`)(e)}</div>`)(e));r("@ui5/webcomponents-theme-base","sap_fiori_3",(()=>n)),r("@ui5/webcomponents","sap_fiori_3",(()=>a));const N={tag:"ui5-token",languageAware:!0,managedSlots:!0,properties:{text:{type:String},readonly:{type:Boolean},overflows:{type:Boolean},selected:{type:Boolean},_tabIndex:{type:String,defaultValue:"-1",noAttribute:!0}},slots:{closeIcon:{type:HTMLElement}},events:{delete:{detail:{backSpace:{type:Boolean},delete:{type:Boolean}}},select:{}}};class U extends l{static get metadata(){return N}static get render(){return h}static get template(){return O}static get styles(){return':host{display:inline-block;background:var(--sapButton_Background);border-width:1px;border-style:solid;border-color:var(--sapButton_TokenBorderColor);border-radius:var(--_ui5_token_border_radius);color:var(--_ui5_token_text_color);height:var(--_ui5_token_height);box-sizing:border-box}:host([overflows]){visibility:hidden}:host(:not([readonly]):hover){background:var(--sapButton_Hover_Background);border-color:var(--sapButton_Hover_BorderColor)}:host([selected]:not([readonly])){color:var(--sapButton_Selected_TextColor);background:var(--sapButton_Selected_Background);border:1px solid var(--sapButton_Selected_BorderColor)}:host([selected]:not([readonly]):hover){background:var(--sapButton_Selected_Hover_Background);border:1px solid var(--sapButton_Selected_Hover_BorderColor)}:host([readonly]){color:var(--sapContent_ForegroundTextColor)}:host([readonly]) .ui5-token--wrapper{padding-right:.3125rem}:host([selected]) .ui5-token--wrapper:focus{outline:var(--_ui5_token_focus_outline_width) dotted var(--sapContent_ContrastFocusColor)}.ui5-token--wrapper{display:flex;align-items:center;height:100%;width:100%;cursor:default;padding:.25rem 0;padding-left:.3125rem;box-sizing:border-box;font-size:var(--sapFontSize);font-family:"72override",var(--sapFontFamily);user-select:none}.ui5-token--wrapper:focus{outline-offset:-2px;outline:var(--_ui5_token_focus_outline_width) dotted var(--sapContent_FocusColor)}.ui5-token--text{white-space:nowrap}.ui5-token--icon{display:flex}:host([selected]) .ui5-token--icon>[ui5-icon],:host([selected]) ::slotted([ui5-icon]){color:var(--sapButton_Selected_TextColor)}.ui5-token--icon>[ui5-icon],::slotted([ui5-icon]){color:inherit;cursor:pointer;width:var(--_ui5_token_icon_size);height:var(--_ui5_token_icon_size);padding:var(--_ui5_token_icon_padding);color:var(--_ui5_token_icon_color)}:host(:not([readonly])) .ui5-token--wrapper[dir=rtl]{padding-right:var(--_ui5_token_wrapper_right_padding);padding-left:var(--_ui5_token_wrapper_left_padding)}'}constructor(){super(),this.i18nBundle=m("@ui5/webcomponents")}_handleSelect(){this.selected=!this.selected,this.fireEvent("select")}_delete(){this.fireEvent("delete")}_keydown(e){const t=_(e),i=k(e);this.readonly||!t&&!i||(e.preventDefault(),this.fireEvent("delete",{backSpace:t,delete:i})),v(e)&&(e.preventDefault(),this._handleSelect())}get tokenDeletableText(){return this.i18nBundle.getText(g)}get iconURI(){return"sap_fiori_3"===d()?"decline":"sys-cancel"}static get dependencies(){return[M]}static async onDefine(){await u("@ui5/webcomponents")}}U.define();const W=f()?"touchend":"mouseup";class G extends p{constructor(e){super(),this.containerComponent=e,this.mouseMove=this.ontouchmove.bind(this),this.mouseUp=this.ontouchend.bind(this),this.touchStart=this.ontouchstart.bind(this),this.supportsTouch=f(),this.cachedValue={},this.startX=0,this.startY=0,this.supportsTouch?(e.addEventListener("touchstart",this.touchStart,{passive:!0}),e.addEventListener("touchmove",this.mouseMove,{passive:!0}),e.addEventListener("touchend",this.mouseUp,{passive:!0})):e.addEventListener("mousedown",this.touchStart,{passive:!0})}set scrollContainer(e){this._container=e}get scrollContainer(){return this._container}async scrollTo(e,t,i=0,s=0){let o=this.scrollContainer.clientHeight>0&&this.scrollContainer.clientWidth>0;for(;!o&&i>0;)await new Promise((e=>{setTimeout((()=>{o=this.scrollContainer.clientHeight>0&&this.scrollContainer.clientWidth>0,i--,e()}),s)}));this._container.scrollLeft=e,this._container.scrollTop=t}move(e,t){return(({element:e=H.element,duration:t=H.duration,progress:i=H.identity,dx:s=0,dy:o=0})=>{let r,n;return L({beforeStart:()=>{r=e.scrollLeft,n=e.scrollTop},duration:t,element:e,progress:t=>{i(t),e.scrollLeft=r+t*s,e.scrollTop=n+t*o}})})({element:this._container,dx:e,dy:t})}getScrollLeft(){return this._container.scrollLeft}getScrollTop(){return this._container.scrollTop}_isTouchInside(e){const t=this._container.getBoundingClientRect(),i=this.supportsTouch?e.clientX:e.x,s=this.supportsTouch?e.clientY:e.y;return i>=t.left&&i<=t.right&&s>=t.top&&s<=t.bottom}ontouchstart(e){const t=this.supportsTouch?e.touches[0]:null;this.supportsTouch?(this.startX=t.pageX,this.startY=t.pageY):(document.addEventListener("mouseup",this.mouseUp,{passive:!0}),document.addEventListener("mousemove",this.mouseMove,{passive:!0})),this._prevDragX=this.supportsTouch?t.pageX:e.x,this._prevDragY=this.supportsTouch?t.pageY:e.y,this._canScroll=this._isTouchInside(this.supportsTouch?t:e)}ontouchmove(e){if(!this._canScroll)return;const t=this._container,i=this.supportsTouch?e.touches[0]:null,s=this.supportsTouch?i.pageX:e.x,o=this.supportsTouch?i.pageY:e.y;t.scrollLeft+=this._prevDragX-s,t.scrollTop+=this._prevDragY-o,this.fireEvent("scroll",{isLeft:s>this._prevDragX,isRight:s<this._prevDragX}),this.cachedValue.dragX=this._prevDragX,this.cachedValue.dragY=this._prevDragY,this._prevDragX=s,this._prevDragY=o}ontouchend(e){if(this.supportsTouch){const t=Math.abs(e.changedTouches[0].pageX-this.startX),i=Math.abs(e.changedTouches[0].pageY-this.startY);if(t<10&&i<10)return}if(!this._canScroll)return;const t=this._container,i=this.supportsTouch?e.changedTouches[0].pageX:e.x,s=this.supportsTouch?e.changedTouches[0].pageY:e.y;t.scrollLeft+=this._prevDragX-i,t.scrollTop+=this._prevDragY-s;const o=i===this._prevDragX?this.cachedValue.dragX:i;this.fireEvent(W,{isLeft:o<this._prevDragX,isRight:o>this._prevDragX}),this._prevDragX=i,this._prevDragY=s,this.supportsTouch||(document.removeEventListener("mousemove",this.mouseMove,{passive:!0}),document.removeEventListener("mouseup",this.mouseUp))}}const K=(e,r,n)=>(s(r),o(n),(e=>t`<div dir="${i(e.effectiveDir)}" class="${b(e.classes.wrapper)}"><span id="${i(e._id)}-hiddenText" class="ui5-hidden-text">${i(e.tokenizerLabel)}</span><div class="${b(e.classes.content)}" @ui5-delete="${i(e._tokenDelete)}" @click="${e._click}" @mousedown="${e._onmousedown}" @keydown="${e._onkeydown}" role="listbox" aria-labelledby="${i(e._id)}-hiddenText">${q(e.tokens,((e,t)=>e._id||t),(e=>(e=>t`<slot name="${i(e._individualSlot)}"></slot>`)(e)))}</div>${e.showNMore?(e=>t`<span @click="${e._openOverflowPopover}" class="ui5-tokenizer-more-text">${i(e._nMoreText)}</span>`)(e):void 0}</div>`)(e)),X=e=>t`<div class="row" style="${w(e.styles.popoverHeaderTitle)}"><ui5-title level="H5" class="ui5-responsive-popover-header-text">Remove</ui5-title><ui5-button class="ui5-responsive-popover-close-btn" icon="decline" design="Transparent" @click="${e.closeMorePopover}"></ui5-button></div>`,Y=e=>t`${i(e)}`,Z=(e,r,n)=>(s(r),o(n),(e=>t`<ui5-responsive-popover tokenizer-popover="true" style=${w(e.styles.popover)} header-text=${i(e.morePopoverTitle)} ?content-only-on-desktop="${e.hasValueState}" no-arrow placement-type="Bottom" horizontal-align="Left">${e.hasValueState?void 0:(e=>t`<div slot="header" class="ui5-responsive-popover-header" style="${w(e.styles.popoverHeader)}">${e._isPhone?X(e):void 0}<div class="${b(e.classes.popoverValueState)}" style="${w(e.styles.popoverValueStateMessage)}">${q(e.valueStateMessageText,((e,t)=>e._id||t),(e=>Y(e)))}</div></div>`)(e)}<ui5-list class="ui5-tokenizer-list" mode="Delete" @ui5-item-delete=${i(e.itemDelete)}>${q(e._tokens,((e,t)=>e._id||t),(e=>(e=>t`<ui5-li .tokenRef=${i(e)}>${i(e.text)}</ui5-li>`)(e)))}</ui5-list>${e._isPhone?(e=>t`<div slot="footer" class="ui5-responsive-popover-footer"><ui5-button design="Transparent" @click="${e.closeMorePopover}">OK</ui5-button></div>`)(e):void 0}</ui5-responsive-popover>`)(e));r("@ui5/webcomponents-theme-base","sap_fiori_3",(()=>n)),r("@ui5/webcomponents","sap_fiori_3",(()=>a));const J={tag:"ui5-tokenizer",languageAware:!0,managedSlots:!0,slots:{default:{propertyName:"tokens",type:HTMLElement,individualSlots:!0},valueStateMessage:{propertyName:"valueStateMessage",type:HTMLElement}},properties:{showMore:{type:Boolean},disabled:{type:Boolean},expanded:{type:Boolean},morePopoverOpener:{type:Object},popoverMinWidth:{type:c},valueState:{type:R,defaultValue:R.None},_nMoreCount:{type:c}},events:{"token-delete":{detail:{ref:{type:HTMLElement}}},"show-more-items-press":{detail:{ref:{type:HTMLElement}}}}};class Q extends l{static get metadata(){return J}static get render(){return h}static get template(){return K}static get styles(){return'.ui5-hidden-text{position:absolute;clip:rect(1px,1px,1px,1px);user-select:none;left:0;top:0}:host{display:inline-block;box-sizing:border-box;border:1px solid #000;height:2.25rem}.ui5-tokenizer-root{height:100%;display:flex;align-items:center;padding:var(--_ui5_tokenizer_root_padding);overflow-x:scroll;box-sizing:border-box;font-family:"72override",var(--sapFontFamily)}.ui5-tokenizer-no-padding{padding:0}.ui5-tokenizer-root.ui5-tokenizer-nmore--wrapper{overflow-x:hidden}.ui5-tokenizer--token--wrapper{display:inline-flex;align-items:center;box-sizing:border-box;height:100%}:host([expanded]) .ui5-tokenizer--content{display:inline-block;white-space:nowrap}.ui5-tokenizer--content{display:flex;flex-wrap:nowrap;align-items:center;overflow:auto}.ui5-tokenizer--content.ui5-tokenizer-nmore--content{overflow:hidden}.ui5-tokenizer-more-text{display:inline-block;margin-left:.25rem;cursor:pointer;white-space:nowrap;font-size:var(--sapFontSize)}:host([expanded]) .ui5-tokenizer--content{overflow:hidden;justify-content:flex-end}::slotted([ui5-token]){margin-left:.25rem}[dir=rtl] .ui5-tokenizer-more-text{margin-right:.25rem;margin-left:0}[dir=rtl] ::slotted([ui5-token]){margin-right:.25rem;margin-left:0}'}static get staticAreaStyles(){return[P,E]}static get staticAreaTemplate(){return Z}_handleResize(){this._nMoreCount=this.overflownTokens.length}constructor(){super(),this._resizeHandler=this._handleResize.bind(this),this._itemNav=new j(this,{currentIndex:"-1",getItemsCallback:this._getVisibleTokens.bind(this)}),this._scrollEnablement=new G(this),this.i18nBundle=m("@ui5/webcomponents")}async onBeforeRendering(){this.showPopover&&!this._getTokens().length&&(await this.getPopover()).close()}onEnterDOM(){C.register(this.shadowRoot.querySelector(".ui5-tokenizer--content"),this._resizeHandler)}onExitDOM(){C.deregister(this.shadowRoot.querySelector(".ui5-tokenizer--content"),this._resizeHandler)}async _openOverflowPopover(){this.showPopover&&(await this.getPopover()).open(this.morePopoverOpener||this),this.fireEvent("show-more-items-press")}_getTokens(){return this.getSlottedNodes("tokens")}get _tokens(){return this.getSlottedNodes("tokens")}get showPopover(){return Object.keys(this.morePopoverOpener).length}_getVisibleTokens(){return this.disabled?[]:this._tokens.filter(((e,t)=>t<this._tokens.length-this._nMoreCount))}onAfterRendering(){this._nMoreCount=this.overflownTokens.length,this._scrollEnablement.scrollContainer=this.expanded?this.contentDom:this}_tokenDelete(e){let t;const i=this._getVisibleTokens().indexOf(e.target);t=e.detail&&e.detail.backSpace?0===i?i+1:i-1:i===this._getVisibleTokens().length-1?i-1:i+1;const s=this._getVisibleTokens()[t];this._itemNav.setCurrentItem(s),s&&setTimeout((()=>{s.focus()}),0),this.fireEvent("token-delete",{ref:e.target})}itemDelete(e){this.fireEvent("token-delete",{ref:e.detail.item.tokenRef})}_onkeydown(e){v(e)&&(e.preventDefault(),this._handleTokenSelection(e))}_click(e){this._handleTokenSelection(e)}_onmousedown(e){this._itemNav.setCurrentItem(e.target)}_handleTokenSelection(e){"ui5-token"===e.target.localName&&this._tokens.forEach((t=>{t!==e.target&&(t.selected=!1)}))}scrollToStart(){this.contentDom.scrollLeft=0}async closeMorePopover(){(await this.getPopover()).close()}get _nMoreText(){return this.i18nBundle.getText(y,[this._nMoreCount])}get showNMore(){return!this.expanded&&this.showMore&&this.overflownTokens.length}get contentDom(){return this.shadowRoot.querySelector(".ui5-tokenizer--content")}get tokenizerLabel(){return this.i18nBundle.getText(x)}get morePopoverTitle(){return this.i18nBundle.getText($)}get overflownTokens(){return this.contentDom?this._getTokens().filter((e=>{const t="rtl"===this.effectiveDir,i=t?"left":"right",s=this.contentDom.getBoundingClientRect(),o=e.getBoundingClientRect()[i],r=s[i];return e.overflows=t?o<r&&!this.expanded:o>r&&!this.expanded,e.overflows})):[]}get hasValueState(){return this.valueState===R.None||this.valueState===R.Success}get valueStateMessageText(){return this.getSlottedNodes("valueStateMessage").map((e=>e.cloneNode(!0)))}get _isPhone(){return z()}get classes(){return{wrapper:{"ui5-tokenizer-root":!0,"ui5-tokenizer-nmore--wrapper":this.showMore,"ui5-tokenizer-no-padding":!this._getTokens().length},content:{"ui5-tokenizer--content":!0,"ui5-tokenizer-nmore--content":this.showMore},popoverValueState:{"ui5-valuestatemessage-root":!0,"ui5-responsive-popover-header":this.showPopover,"ui5-valuestatemessage--success":this.valueState===R.Success,"ui5-valuestatemessage--error":this.valueState===R.Error,"ui5-valuestatemessage--warning":this.valueState===R.Warning,"ui5-valuestatemessage--information":this.valueState===R.Information}}}get styles(){return{popover:{"min-width":`${this.popoverMinWidth}px`},popoverValueStateMessage:{width:z()?"100%":`${this.popoverMinWidth}px`,"min-height":"2rem",padding:z()?"0.25rem 1rem":"0.3rem 0.625rem"},popoverHeader:{"min-height":"2rem"},popoverHeaderTitle:{"justify-content":"left"}}}_tokensCountText(){const e=this._getTokens().length;return 0===e?this.i18nBundle.getText(T):1===e?this.i18nBundle.getText(S):this.i18nBundle.getText(B,e)}_focusLastToken(){if(0===this.tokens.length)return;const e=this.tokens[this.tokens.length-1];e.focus(),this._itemNav.setCurrentItem(e)}static get dependencies(){return[D,I,F]}static async onDefine(){await u("@ui5/webcomponents")}async getPopover(){return(await this.getStaticAreaItemDomRef()).querySelector("[ui5-responsive-popover]")}}Q.define();export{Q as T,U as a}