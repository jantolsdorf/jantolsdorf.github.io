import{r as t,h as i}from"./p-a0a329c6.js";import{l as s}from"./p-dbbc6d58.js";import{s as a}from"./p-fbf9cfd5.js";import{b as o,a as r}from"./p-fd454fec.js";import{f as e}from"./p-22de27ed.js";const d=t=>"/"==(t=t.trim()).charAt(t.length-1)?t.slice(0,t.length-1):t,c=class{constructor(i){t(this,i),this.baseUrl="",this.DataBaskets=[],this.renderDataBaskets=this.DataBaskets,this.Columns=4,this.columns=[],this.filterTextSearch="",this.filterState="",this.filterStatus=""}mapQueryStringToFilter(){const t=new URLSearchParams(window.location.search);t.has("status")&&(this.filterStatus=t.get("status")),t.has("state")&&(this.filterState=t.get("state")),t.has("q")&&(this.filterStatus=t.get("q"))}componentWillLoad(){this.mapQueryStringToFilter(),a.dbEDataBasket.forEach((t=>{o.store(o.updateProgress(t))})),this.DataBaskets=a.dbEDataBasket,this.renderDataBaskets=this.DataBaskets}componentWillRender(){this.columns=[],this.renderDataBaskets=this.DataBaskets,""!==this.filterStatus&&(this.renderDataBaskets=this.renderDataBaskets.filter((({status:t})=>t.toLowerCase().includes(this.filterStatus.toLowerCase())))),""!==this.filterTextSearch&&(this.renderDataBaskets=this.renderDataBaskets.filter((({title:t})=>t.toLowerCase().includes(this.filterTextSearch.toLowerCase())))),""!==this.filterState&&(this.renderDataBaskets=this.renderDataBaskets.filter((({state:t})=>t.toLowerCase().includes(this.filterState.toLowerCase())))),this.renderDataBaskets=this.renderDataBaskets.sort(((t,i)=>t.ID<i.ID?1:t.ID>i.ID?-1:0))}componentDidLoad(){window.onhashchange=()=>{this.mapQueryStringToFilter()}}render(){return i("div",null,i("nav",{class:"navbar navbar-light bg-light"},i("form",{class:"form-inline"},i("input",{class:"form-control",onInput:t=>this.filterTextSearch=t.target.value,type:"text",placeholder:s.placeholderSearch+" ..."}),i("select",{class:"form-control",onInput:t=>this.filterState=t.target.value,style:{marginLeft:"30px"}},i("option",{value:"",selected:""===this.filterState},s.toolbarFilterStatusAll),i("option",{value:r.READY,selected:this.filterState===r.READY},s.toolbarFilterStatusReady),i("option",{value:r.WAITING,selected:this.filterState===r.WAITING},s.toolbarFilterStatusWaiting)))),i("div",{class:"container-fluid"},i("div",{class:"row clearfix trusd-grid-row-widget"},this.renderDataBaskets.map((t=>i("div",{class:"col-sm-4 col-md-4 col-lg-3 col-xl-2 col-xxl-1 trusd-grid-col-widget"},i("trusd-piiq-data-basket-widget",{history:this.history,dataBasket:t,ProgressDataBasket:t.progress,Issues:t.numIssues,UnreadMessages:t.numMessagesUnread,LastActivity:new Date(t.lastActionDate).toLocaleTimeString()+" "+new Date(t.lastActionDate).toLocaleDateString(),TargetURL:d(this.baseUrl)+c.route+"/"+t.ID,DataBasketType:e(t.selectedProcessingRecordID).friendlyName})))))))}};c.route="/datenkoerbe",c.style='.tooltips.sc-trusd-piiq-com-data-basket-grid .tooltiptext.sc-trusd-piiq-com-data-basket-grid{font-size:small;visibility:hidden;width:auto;background-color:#EEEEEE;color:#000;text-align:center;border-radius:6px;padding:5px 0;position:absolute !important;z-index:1000;bottom:100%;left:50%;margin-left:-60px;opacity:0;transition:opacity 1s}.tooltips.sc-trusd-piiq-com-data-basket-grid .tooltiptext.sc-trusd-piiq-com-data-basket-grid::after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:black transparent transparent transparent}.tooltips.sc-trusd-piiq-com-data-basket-grid:hover .tooltiptext.sc-trusd-piiq-com-data-basket-grid{visibility:visible;opacity:1;transition:opacity 0s linear 1s;overflow:visible !important}.tooltip-arrow.sc-trusd-piiq-com-data-basket-grid,.privacy-tooltip.sc-trusd-piiq-com-data-basket-grid+.tooltip.sc-trusd-piiq-com-data-basket-grid>.tooltip-inner.sc-trusd-piiq-com-data-basket-grid{background-color:#0d5c95}.cursor-pointer.sc-trusd-piiq-com-data-basket-grid{cursor:pointer}.cursor-help.sc-trusd-piiq-com-data-basket-grid{cursor:help}button.sc-trusd-piiq-com-data-basket-grid:disabled{cursor:not-allowed;pointer-events:all !important}.trusd-grid-col-widget.sc-trusd-piiq-com-data-basket-grid{padding:5px;width:100%}.trusd-grid-row-widget.sc-trusd-piiq-com-data-basket-grid{width:100%}.card-header.sc-trusd-piiq-com-data-basket-grid>a.btn.sc-trusd-piiq-com-data-basket-grid{float:right}.toolbar.sc-trusd-piiq-com-data-basket-grid{float:right}';export{c as C,d as c}